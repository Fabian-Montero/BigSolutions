@model BigSolutionsWeb.Entidades.Usuario
@{
    ViewData["Title"] = "Inicio de sesión";
    Layout = "~/Views/Shared/_LayoutExterno.cshtml";
}
<div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth px-0">
            <div class="row w-100 mx-0">
                <div class="col-lg-4 mx-auto">
                    <div class="auth-form-light text-left py-5 px-4 px-sm-5">
                        <div class="brand-logo text-center">
                            <img src="~/page/images/bigsolutions-logo.jpg" alt="logo">
                        </div>

                        <h4>Iniciar Sesión</h4>
                        @if (ViewBag.msj != null)
                        {
                            <div id="warningAlert" class="alert alert-warning" role="alert" style="text-align: center;">
                                @ViewBag.msj
                            </div>
                        }
                        @using (Html.BeginForm("InicioSesion", "Usuario"))
                        {
                            <div class="form-group">
                                @Html.TextBoxFor(m => m.CorreoElectronico, new { @class = "form-control", @type = "email", @required = "required", @id = "CorreoElectronico", @placeholder = "Correo electrónico" })
                            </div>

                            @* <div class="form-group">
                                @Html.TextBoxFor(m => m.Contrasenna, new { @class = "form-control", @type = "password", @required = "required", @id = "Contrasenna", @placeholder = "Contraseña" })
                            </div> *@
                            <div class="form-group position-relative">
                               @Html.TextBoxFor(m => m.Contrasenna, new { @class = "form-control pe-5", @type = "password", @required = "required", @id = "Contrasenna", @placeholder = "Contraseña" })
                               <i class="bi bi-eye-fill" id="togglePassword" style="display: none; position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"></i>
                            </div>

                            <div class="mt-3">
                                <button type="submit" class="botones" style="width:100%">INICIAR SESIÓN</button>
                            </div>
                        }
                        <div class="my-2 d-flex justify-content-between align-items-center">
                            <a href="@Url.Action("Recuperar", "Usuario")" class="auth-link text-black">Recuperar Contraseña</a>
                        </div>

                        <div class="text-center mt-4 font-weight-light">
                            <a href="@Url.Action("Registro", "Usuario")" style="width:75%" class="botones-secundarios">Crear cuenta nueva</a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const passwordInput = document.getElementById("Contrasenna");
    const toggleIcon = document.getElementById("togglePassword");

    passwordInput.addEventListener("input", function () {
        if (this.value.length > 0) {
            toggleIcon.style.display = "block";
        } else {
            toggleIcon.style.display = "none";
            passwordInput.type = "password";
            toggleIcon.classList.remove("bi-eye-slash-fill");
            toggleIcon.classList.add("bi-eye-fill");
        }
    });

    toggleIcon.addEventListener("click", function () {
        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            this.classList.remove("bi-eye-fill");
            this.classList.add("bi-eye-slash-fill");
        } else {
            passwordInput.type = "password";
            this.classList.remove("bi-eye-slash-fill");
            this.classList.add("bi-eye-fill");
        }
    });
</script>


